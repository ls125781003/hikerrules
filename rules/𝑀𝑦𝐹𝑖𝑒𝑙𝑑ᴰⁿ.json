Êµ∑ÈòîËßÜÁïåËßÑÂàôÂàÜ‰∫´ÔºåÂΩìÂâçÂàÜ‰∫´ÁöÑÊòØÔºöÂ∞èÁ®ãÂ∫èÔø•home_rule_v2Ôø•base64://@ùëÄùë¶ùêπùëñùëíùëôùëë·¥∞‚Åø@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi8J2RgPCdkabwnZC58J2RlvCdkZLwnZGZ8J2RkeG0sOKBvyIsImF1dGhvciI6IuaWreW/tSIsInVybCI6Imhpa2VyOi8vZW1wdHk/Y2xhc3M9ZnlBbGwiLCJ2ZXJzaW9uIjoyMDI0MDcwMTAwLCJjb2xfdHlwZSI6InRleHRfY2VudGVyXzEiLCJjbGFzc19uYW1lIjoiTXlQYXJzZVMm57yW6L6R5paH5Lu2JuabtOaWsCIsInR5cGUiOiJ0b29sIiwiY2xhc3NfdXJsIjoiJmVkaXRGaWxlJlVwZGF0ZSIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwic29ydF9uYW1lIjoiIiwieWVhcl9uYW1lIjoiIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxudGhpcy5kID0gW107XG5cbmZ1bmN0aW9uIGp4SXRlbUhlYWQoKSB7XG4gICAgYWRkTGlzdGVuZXIoJ29uUmVmcmVzaCcsICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGdldFZhcigna3FqeGNzJywgJzAnKSkge1xuICAgICAgICAgICAgY2FzZSAnMCc6XG4gICAgICAgICAgICAgICAgcHV0VmFyKCdrcWp4Y3MnLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzEnOlxuICAgICAgICAgICAgICAgIHB1dFZhcigna3FqeGNzJywgMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHB1dFZhcigna3FqeGNzJywgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgaWYgKGdldFZhcigna3FqeGNzJykgPT0gMikge1xuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJk8c3BhbiBzdHlsZT1cImNvbG9yOiNGQUNDMkVcIj7op6PmnpDmtYvor5UnLFxuICAgICAgICAgICAgdXJsOiAkKCkubGF6eVJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB2aXBVcmwgPSBnZXRWYXIoJ3BsdWdpbkxpbmsnKTtcbiAgICAgICAgICAgICAgICBpZiAodmlwVXJsLnN1YnN0cigwLCA0KSA9PSAnaHR0cCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnaHR0cHM6Ly9naHByb3h5LmNjL2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sczEyNTc4MTAwMy9kY2JmL20vdi9Sb3V0ZS5qcycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXl0bVBhcnNlKHZpcFVybCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+i+k+WFpeahhuacquWhq1VybOaIluiAheaXoOaViFVybCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIHJ1bGVWID0gZ2V0VmFyKFwicnVsZVZlcnNpb25cIiksXG4gICAgICAgIHVwZFRpcHMgPSAnXFxu54K55Ye74oCc5pu05paw6ISa5pys5L6d6LWW4oCd5pu05paw4oCZ4oCZJztcbiAgICB2YXIganhJdE5ld1YgPSBnZXRWYXIoJ2p4SXROZXdWJywgJycpLFxuICAgICAgICBqeEl0ZW1WID0gZ2V0VmFyKCdqeEl0ZW1WJyk7XG4gICAgaWYgKE1ZX1JVTEUudmVyc2lvbiA8IHJ1bGVWKSB7XG4gICAgICAgIGp4SXROZXdWID0gJ+Wwj+eoi+W6j+acieaWsOeJiOacrDogJyArIHJ1bGVWO1xuICAgICAgICB1cGRUaXBzID0gJ1xcbuabtOaWsOWlveWwj+eoi+W6j+WQjueCueWHu+abtOaWsOiEmuacrOS+nei1luKAmeKAmSc7XG4gICAgfVxuICAgIHZhciB2ZXJzaW9uVGlwcyA9IGp4SXROZXdWID09ICcnID8gJ1ZlcnNpb24gJyArIGp4SXRlbVYgOiAn4oCY4oCYJyArIGp4SXROZXdWICsgdXBkVGlwcztcblxuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZPGJpZz48YmlnPjxzcGFuIHN0eWxlPVwiY29sb3I6IzBDMDAwMFwiPk15UGFyc2VTJyxcbiAgICAgICAgZGVzYzogdmVyc2lvblRpcHMsXG4gICAgICAgIHVybDogIWdldFZhcigna3FqeGNzJykgPyAndG9hc3Q6Ly/ov5nmmK/moIfpopgnIDogc2V0dXBQYWdlcygn6K6+572uJywgMSksXG4gICAgICAgIC8qICQoW1wi5YiH5o2i6Kej5p6QXCIsIFwi5qOA5rWL6Kej5p6QXCIsIFwi5YiH5o2i55qu6IKkXCJdLCAyKS5zZWxlY3QoKCkgPT4gJCgpLnJ1bGUoKGspID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSZXN1bHQoW3tcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtcbiAgICAgICAgICAgICAgICB9XSlcbiAgICAgICAgICAgIH0sIGlucHV0KSksKi9cbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgIG5ld1dpbmRvdzogdHJ1ZSxcbiAgICAgICAgICAgIHdpbmRvd0lkOiBcIk15UGFyc2VTXCIsXG4gICAgICAgICAgICBsaW5lVmlzaWJsZTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJ1xuICAgIH0pO1xuICAgIHNwbGl0TGluZSgnbGluZScsIDUpO1xufVxuXG5mdW5jdGlvbiBydWxlc1VwZGF0ZSgpIHtcbiAgICByZXF1aXJlKGZMaW5rcy5rVCArICdNeUZpZWxkVXBkYXRlLnR4dCcpO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZPHNtYWxsPuWIt+aWsOaVsOaNricsXG4gICAgICAgIGRlc2M6ICfigJjigJjigJnigJk8c21hbGw+6aG16Z2i5pWw5o2u5Li657yT5a2Y5pWw5o2u77yM5LiN5a6a5pe26Ieq5Yqo5pu05paw77yM5Y+v5omL5Yqo54K55Ye75pu05pawJyxcbiAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChVcmwpID0+IHtcbiAgICAgICAgICAgIGxldCBub3dUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChub3dUaW1lIC0gZ2V0SXRlbSgnaXNSZWZyZXNoVGltZScsICcnKSA+IDYwMDAwMCkge1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoVXJsKTtcbiAgICAgICAgICAgICAgICBzZXRJdGVtKCdpc1JlZnJlc2hUaW1lJywgbm93VGltZSArICcnKTtcbiAgICAgICAgICAgICAgICBnZXRDbG91ZERhdGEoMCk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRWYXIoJ2dldERhdGFTdGF0ZScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6Ze06ZqU5bCP5LqOMTDliIbpkp8nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmTGlua3MuanhJdFVybClcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICBjb2xfdHlwZTogJ2JsYW5rX2Jsb2NrJ1xuICAgIH0pO1xuICAgIGQucHVzaCh7XG4gICAgICAgIGNvbF90eXBlOiAnbGluZSdcbiAgICB9KTtcbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxzdHJvbmc+6KeEIOWImTwvc3Ryb25nPjxicj48c21hbGw+PHNwYW4gc3R5bGU9XCJjb2xvcjpncmV5XCI+54K55Ye75p+l55yL5pu05paw5pel5b+XJyxcbiAgICAgICAgdXJsOiBmTGlua3MuZ3hyelxuICAgIH0pO1xuICAgIGxldCBNeVJzID0gW107XG4gICAgbGV0IGFsbFJzID0gSlNPTi5wYXJzZShmZXRjaCgnaGlrZXI6Ly9ob21lJykpO1xuICAgIGZvciAobGV0IHIgPSAwOyByIDwgYWxsUnMubGVuZ3RoOyByKyspIHtcbiAgICAgICAgbGV0IGFScyA9IGFsbFJzW3JdO1xuICAgICAgICBpZiAoYVJzLmF1dGhvciA9PSAn5pat5b+1Jykge1xuICAgICAgICAgICAgTXlScy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0aXRsZTogYVJzLnRpdGxlLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGFScy52ZXJzaW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBsb2NhbFYgPSAn5pyq5a+85YWlJyxcbiAgICAgICAgICAgIFJzID0gUnVsZXNbaV07XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgTXlScy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKE15UnNbal0udGl0bGUgPT0gUnMudGl0bGUgKyAn4bSw4oG/Jykge1xuICAgICAgICAgICAgICAgIGxvY2FsViA9IE15UnNbal0udmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgeVYgPSBsb2NhbFYgIT0gUnMudmVyc2lvbiA/ICfigJjigJgnICsgUnMudmVyc2lvbiArICfigJnigJknIDogUnMudmVyc2lvbjtcbiAgICAgICAgbGV0IFJzRGVzYyA9IFJzLmRlc2MgIT0gdW5kZWZpbmVkID8gJzwvc3Ryb25nPjxzcGFuIHN0eWxlPVwiY29sb3I6Z3JleVwiPjxzbWFsbD4oJyArIFJzLmRlc2MgKyAnKScgOiAnJztcbiAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZPHN0cm9uZz48c3BhbiBzdHlsZT1cImNvbG9yOiMyOThBMDhcIj4nICsgUnMudGl0bGUgKyBSc0Rlc2MsXG4gICAgICAgICAgICBkZXNjOiAn4oCY4oCY4oCZ4oCZPHNtYWxsPuacrOWcsOeJiOacrDwvc21hbGw+PGJpZz4gJyArIGxvY2FsViArICcgOiAnICsgeVYgKyAnIDwvYmlnPuKAmOKAmOKAmeKAmTxzbWFsbD7kupHnq6/niYjmnKw8L3NtYWxsPicsXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICB1cmw6IGxvY2FsViA9PSBScy52ZXJzaW9uID8gJ3RvYXN0Oi8v5rKh5pyJ5paw54mI5pysJyA6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKFVybCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZVBhc3RlKFVybCk7XG4gICAgICAgICAgICB9LCBScy51cmwpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkLnB1c2goe1xuICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxzdHJvbmc+6ISaIOacrCcsXG4gICAgICAgIHVybDogZkxpbmtzLmd4cnpcbiAgICB9KTtcbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IFNjcmlwdC5sZW5ndGg7IHMrKykge1xuICAgICAgICBsZXQgU3QgPSBTY3JpcHRbc107XG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxzcGFuIHN0eWxlPVwiY29sb3I6IzI5OEEwOFwiPjxzbWFsbD4nICsgU3QudGl0bGUgKyAnIC0gJyArIFN0LnZlcnNpb24sXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMicsXG4gICAgICAgICAgICB1cmw6ICgnJyArIFN0LnVybCkuc3RhcnRzV2l0aCgndG9hc3QnKSA/IFN0LnVybCA6ICQoU3QudXJsICsgJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGZMaW5rcykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBhcnIgPSBpbnB1dC5zcGxpdCgnIyMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IGFyclswXSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGFyclsxXTtcbiAgICAgICAgICAgICAgICB2YXIgVXJsID0gbmFtZSA9PSB1bmRlZmluZWQgPyBmcm9tIDogZkxpbmtzW2Zyb21dICsgbmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGZldGNoQ2FjaGUoVXJsLCAyKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3cml0ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvY2FjaGUvJyArIG5hbWUsIGh0bWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5a+85YWl5oiQ5YqfJztcbiAgICAgICAgICAgIH0sIGZMaW5rcylcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjekd1aWRlKCkge1xuICAgIHJldHVybiBmTGlua3MuY3p6eVxufVxuXG5mdW5jdGlvbiB0b2ZMaW5rKFVybCkge1xuICAgIHJldHVybiAnaGlrZXI6Ly9maWxlcy9saWJzLycgKyBtZDUoVXJsKSArICcuanMnO1xufVxuXG5mdW5jdGlvbiBlZGl0RmlsZSgpIHtcbiAgICB2YXIgTGlzdHMgPSBbe1xuICAgICAgICB0aXRsZTogJ+eUqOaIt+ino+aekOaWh+S7ticsXG4gICAgICAgIGxpbms6IGZMaW5rcy5wYXJzZXNcbiAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAnUGFyc2VfRG4uanMnLFxuICAgICAgICBsaW5rOiBmTGlua3MuY2pjYWNoZVxuICAgIH0sIHtcbiAgICAgICAgdGl0bGU6ICfnvZHpobXohJrmnKzku6PnoIEnLFxuICAgICAgICBsaW5rOiBmTGlua3MueDVjYWNoZVxuICAgIH0sIHtcbiAgICAgICAgdGl0bGU6ICfosIPnlKjot6/nlLHku6PnoIEnLFxuICAgICAgICBsaW5rOiB0b2ZMaW5rKGZMaW5rcy5yb3V0ZVVybClcbiAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAn6Kej5p6Q6aG55Li75Luj56CBJyxcbiAgICAgICAgbGluazogdG9mTGluayhmTGlua3MuanhJdFVybClcbiAgICB9LCB7XG4gICAgICAgIHRpdGxlOiAn57yW6L6R6Kej5p6Q6aG55Luj56CBJyxcbiAgICAgICAgbGluazogdG9mTGluayhmTGlua3MuX2JqVXJsKVxuICAgIH1dO1xuICAgIGZvciAoaSBvZiBMaXN0cykge1xuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IGkudGl0bGUsXG4gICAgICAgICAgICB1cmw6ICdlZGl0RmlsZTovLycgKyBpLmxpbmssXG4gICAgICAgICAgICAvL2NvbF90eXBlOiAndGV4dF8yJ1xuICAgICAgICB9KVxuICAgIH1cbiAgICBpZiAoIWdldFZhcignZWRpdEZpbGVQb3B1cCcpKSB7XG4gICAgICAgIGNvbmZpcm0oe1xuICAgICAgICAgICAgdGl0bGU6ICfmuKnppqjmj5DnpLonLFxuICAgICAgICAgICAgY29udGVudDogJ+atpOmhueWKn+iDveS4jeW7uuiuruWwj+eZveeUqOaIt+S9v+eUqCcsXG4gICAgICAgICAgICBjb25maXJtOiAncHV0VmFyKFwiZWRpdEZpbGVQb3B1cFwiLFwiMVwiKSdcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbnRyeSB7XG4gICAgcmVxdWlyZShcImh0dHBzOi8vZ2hwcm94eS5jYy9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvUm91dGUuanNcIik7XG4gICAgc3dpdGNoIChnZXRQYXJhbSgnY2xhc3MnKSkge1xuICAgICAgICBjYXNlIFwiZWRpdEZpbGVcIjpcbiAgICAgICAgICAgIGVkaXRGaWxlKCk7XG4gICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlVwZGF0ZVwiOlxuICAgICAgICAgICAgcnVsZXNVcGRhdGUoKTtcbiAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJlcXVpcmUoZkxpbmtzLmp4SXRVcmwpO1xuICAgICAgICAgICAganhJdGVtLmxxRmlsZSgpO1xuICAgICAgICAgICAgUm91dGUuYWRkTGFuSmllKGQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSBjYXRjaCAoZSkge1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiBcIuaTjeS9nOaMh+W8lVwiLFxuICAgICAgICB1cmw6IGN6R3VpZGUoKSxcbiAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiXG4gICAgfSlcbiAgICBjb25maXJtKHtcbiAgICAgICAgdGl0bGU6ICfnqIvluo/lh7rplJnkuoYoXyBfKScsXG4gICAgICAgIGNvbnRlbnQ6ICfooYzmlbA6ICcgKyBlLmxpbmVOdW1iZXIgKyAnXFxu6K+m5oOFOiAnICsgZS5tZXNzYWdlLFxuICAgICAgICBjb25maXJtOiAnYGNvcHk6Ly8nICsgZS5tZXNzYWdlICsgJ2AnXG4gICAgfSk7XG4gICAgc2V0UmVzdWx0KGQpO1xufSIsInNlYXJjaF91cmwiOiIiLCJncm91cCI6IuKRo+W3peWFtyIsInNlYXJjaEZpbmQiOiIiLCJkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwiZGV0YWlsX2ZpbmRfcnVsZSI6IiIsInNkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwic2RldGFpbF9maW5kX3J1bGUiOiIiLCJ1YSI6Im1vYmlsZSIsInByZVJ1bGUiOiIvL+WmguaenOWHuueOsOiOt+WPluS4jeWIsOi/nOeoi+i1hOa6kOeahOaDheWGte+8jOaKiuKAnC8va1TigJ3nmoTigJwvL+KAneWOu+aOieeEtuWQjumHjeWQr0FQUFxuXG52YXIga1QgPSBcImh0dHBzOi8vZ2hwcm94eS5jYy9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvXCIsXG4gICAga1QyID0ga1Q7XG4gICAga1QzID0ga1Q7XG4vL2tUID0ga1QyO1xudmFyIGZMaW5rcyA9IHtcbiAgICBrVDoga1QsXG4gICAga1QyOiBrVDIsXG4gICAga1QzOiBrVDMsXG4gICAgY2pGcm9tOiAnaGlrZXI6Ly9wYWdlL1BhcnNlX0RuLmpzJyxcbiAgICB4NUZyb206ICdoaWtlcjovL3BhZ2UvUGFyc2VfRG4uaHRtbCcsXG4gICAgX2JqVXJsOiBrVCArICdqeEl0ZW1fYmouanMnLFxuICAgIGp4SXRVcmw6IGtUICsgJ2p4SXRlbS5qcycsXG4gICAgcm91dGVVcmw6ICdodHRwczovL2docHJveHkuY2MvaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2xzMTI1NzgxMDAzL2RjYmYvbS92L1JvdXRlLmpzJyxcbiAgICBjamNhY2hlOiAnaGlrZXI6Ly9maWxlcy9jYWNoZS9QYXJzZV9Ebi5qcycsXG4gICAgeDVjYWNoZTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvUGFyc2VfRG4uaHRtbCcsXG4gICAgcGxnbDogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvcGxnbFBhcnNlLmh0bWwnLFxuICAgIExhbkppZTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUveDVQYXJzZUxhbkppZS50eHQnLFxuICAgIGNvbmZpZzogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvTXlQYXJzZVNldC5qc29uJyxcbiAgICBwYXJzZXM6ICdoaWtlcjovL2ZpbGVzL3J1bGVzL0R1YW5OaWFuL015UGFyc2UuanNvbicsXG4gICAgY3p6eTogJ2h0dHBzOi8vZG9jcy5xcS5jb20vZG9jL0RWWE5HVkdkTFJFRlBZM1p6JyxcbiAgICBneHJ6OiAnaHR0cHM6Ly93d3cueXVxdWUuY29tL2R1YW5uaWFuLWNvcXRiL2VseThjYS9nYWY3b3AnLFxuICAgIHZ1ZTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvdnVlQDIuNS4xNi5qcycsXG4gICAganF1ZXJ5OiAnaGlrZXI6Ly9maWxlcy9jYWNoZS9qcXVlcnlAMi4xLjQuanMnLFxuICAgIHg1Um91dGU6ICdmaWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvY29tLmV4YW1wbGUuaGlrZXJ2aWV3L2ZpbGVzL0RvY3VtZW50cy9jYWNoZS8nXG59O1xubGV0IGZSb3V0ZSA9ICdoaWtlcjovL2ZpbGVzL2NhY2hlL2ZpbGVMaW5rc+G0sOKBvy50eHQnO1xuaWYgKCFnZXRWYXIoJ2p4SXRlbVYnKSB8fCBnZXRWYXIoJ2p4SXROZXdWJywgJzAnKSAhPT0gJzAnKSB7XG4gICAgd3JpdGVGaWxlKGZSb3V0ZSwgJ3ZhciBmTGlua3M9JyArICQuc3RyaW5naWZ5KGZMaW5rcykpO1xufSIsInBhZ2VzIjoiW3tcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCJQYXJzZV9Ebi5odG1sXCIsXCJwYXRoXCI6XCJQYXJzZV9Ebi5odG1sXCIsXCJydWxlXCI6XCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD5cXG48aGVhZD5cXG4gICAgPG1ldGEgY2hhcnNldD1cXFwidXRmLThcXFwiPlxcbiAgICA8bWV0YSBuYW1lPVxcXCJ2aWV3cG9ydFxcXCIgY29udGVudD1cXFwid2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSxtaW5pbXVtLXNjYWxlPTEsbWF4aW11bS1zY2FsZT0xLHVzZXItc2NhbGFibGU9bm9cXFwiIC8+XFxuICAgIDwhLS1cXG4gICAgPHNjcmlwdCBzcmM9XFxcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vdnVlQDIuNS4xNi9kaXN0L3Z1ZS5taW4uanNcXFwiPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTIuMS40Lm1pbi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIFxcbiAgICA8c2NyaXB0IHNyYz1cXFwiaHR0cDovL2FwcHMuYmRpbWcuY29tL2xpYnMvanF1ZXJ5LzIuMS40L2pxdWVyeS5taW4uanNcXFwiPjwvc2NyaXB0PlxcbiAgICA8c2NyaXB0IHNyYz1cXFwiaHR0cDovL2FwcHMuYmRpbWcuY29tL2xpYnMvdnVlLzEuMC4xNC92dWUuanNcXFwiPjwvc2NyaXB0PlxcbiAgICAtLT5cXG4gICAgPHRpdGxlPlBhcnNlX0RuPC90aXRsZT5cXG4gICAgPHN0eWxlIHR5cGU9dGV4dC9jc3M+XFxuICAgICAgICBodG1sLCBib2R5IHtcXG4gICAgICAgICAgICBoZWlnaHQ6IGF1dG87XFxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgICAgIH1cXG4gICAgICAgIGJvZHkge1xcbiAgICAgICAgICAgIG1hcmdpbjogMCA1cHggMCA1cHg7XFxuICAgICAgICAgICAgcGFkZGluZzogMCAwcHggMCAwcHg7XFxuICAgICAgICAgICAgLy9iYWNrZ3JvdW5kOiAjRjlGMERBO1xcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAwO1xcbiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcXFwiTWljcm9zb2Z0IFlhSGVpXFxcIixcXFwi5a6L5L2TXFxcIixcXFwiU2Vnb2UgVUlcXFwiLCBcXFwiTHVjaWRhIEdyYW5kZVxcXCIsIEhlbHZldGljYSwgQXJpYWwsc2Fucy1zZXJpZiwgRnJlZVNhbnMsIEFyaW1vO1xcbiAgICAgICAgfVxcbiAgICAgICAgI2RpdjJ7XFxuICAgICAgICAgICBtYXJnaW4tdG9wOjM1cHg7XFxuICAgICAgICB9XFxuICAgICAgICAvKui+k+WFpeahhueItuWFg+e0oCovXFxuICAgICAgICBkaXYuYm94IHtcXG4gICAgICAgICAgICBoZWlnaHQ6IDUzcHg7XFxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XFxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrovpPlhaXmoYblsLrlr7gqL1xcbiAgICAgICAgZm9ybSB7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgICAgIHdpZHRoOiA5MiU7XFxuICAgICAgICB9XFxuICAgICAgICBpbnB1dCwgbGFiZWwsIC5saWViIGJ1dHRvbiB7XFxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XFxuICAgICAgICB9XFxuICAgICAgICAvKuWtl+S9k+S9jee9riovXFxuICAgICAgICBpbnB1dCB7XFxuICAgICAgICAgICAgd2lkdGg6IDc3JTtcXG4gICAgICAgICAgICBoZWlnaHQ6IDMycHg7XFxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA2NnB4O1xcbiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDMwcHg7XFxuICAgICAgICB9XFxuICAgICAgICBsYWJlbCB7XFxuICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XFxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDQzcHg7XFxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xcbiAgICAgICAgICAgIHdpZHRoOiA2MHB4O1xcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICB9XFxuICAgICAgICAvKuWwj+ahhiovXFxuICAgICAgICAuYmFyIGxhYmVsIHtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRDA2QjZDO1xcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDU1NSA1NTVweCA1NTVweCA1NTU7XFxuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XFxuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xcbiAgICAgICAgICAgIGNvbG9yOiAjRjlGMERBO1xcbiAgICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgICBsZWZ0OiAzcHg7XFxuICAgICAgICB9XFxuICAgICAgICAvKui+k+WFpeahhuagt+W8jyovXFxuICAgICAgICAuYmFyIGlucHV0IHtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRjlGMERBO1xcbiAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICNEMDZCNkM7XFxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrliJfooagqL1xcbiAgICAgICAgLmxpZWIgYnV0dG9uIHtcXG4gICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDo0MHB4O1xcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICAgICAgICB3aWR0aDogMjdweDtcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrliJfooagqL1xcbiAgICAgICAgLmxpZWIgYnV0dG9ue1xcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRDA2QjZDO1xcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDtcXG4gICAgICAgICAgICBjb2xvcjogI0Y5RjBEQTtcXG4gICAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgICAgcmlnaHQ6IDBweDtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q5aS05YOPKi9cXG4gICAgICAgIC5yb3VuZF9pY29ue1xcbiAgICAgICAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuangtdWwsIC5jai11bCB7XFxuICAgICAgICAgICAgei1pbmRleDogOTk5O1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgICAgICB3aWR0aDogNzclO1xcbiAgICAgICAgICAgLy8gbGVmdDogMTAlO1xcbiAgICAgICAgfVxcbiAgICAgICAgLmp4LXVsLCAuY2otdWwge1xcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICB9XFxuICAgICAgICAuangtdWwge1xcbiAgICAgICAgICAgIHRvcDogMyU7XFxuICAgICAgICB9XFxuICAgICAgICAuY2otdWwge1xcbiAgICAgICAgICAgIHRvcDogMzAlO1xcbiAgICAgICAgfVxcbiAgICAgICAgbGkge1xcbiAgICAgICAgICAgIGhlaWdodDogMzVweDtcXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjMDFiZmRhO1xcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XFxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XFxuICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgICAgICAgfVxcbiAgICAgICAgbGkge1xcbiAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxuICAgICAgICB9XFxuICAgICAgICBsaTpob3ZlciB7XFxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTM5LCAxMzEsIDEyMCwgMC45KTtcXG4gICAgICAgIH1cXG4gICAgICAgIGxpW2NoZWNrPVxcXCJ0cnVlXFxcIl0ge1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTM5LCAwLCAwLCAwLjkpO1xcbiAgICAgICAgfVxcblxcbiAgICA8L3N0eWxlPlxcbjwvaGVhZD5cXG5cXG48Ym9keT5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZnVuZ1xcXCI+XFxuICAgICAgICA8YSBzdHlsZT1cXFwiZmxvYXQ6bGVmdDtcXFwiPlxcbiAgICAgICAgICAgIDxidXR0b24gIHN0eWxlPVxcXCJib3JkZXI6IG5vbmU7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6ICNjNTQ2NGE7d2lkdGg6IDgwcHg7IGZvbnQtc2l6ZTogMThweDtjb2xvcjogI0Y5RjBEQTtcXFwiIG9uY2xpY2s9XFxcImNhbmNlbCgpO1xcXCI+5YWzIOmXrTwvYnV0dG9uPlxcbiAgICAgICAgPC9hPlxcbiAgICAgICAgPGEgc3R5bGU9XFxcImZsb2F0OnJpZ2h0XFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIHN0eWxlPVxcXCJib3JkZXI6IG5vbmU7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6ICMwNjgwMDY7d2lkdGg6IDgwcHg7IGZvbnQtc2l6ZTogMThweDtjb2xvcjogI0Y5RjBEQTtcXFwib25jbGljaz1cXFwiY2xpY2ttZSgn6YWNIOe9riDlt7Ig5L+dIOWtmCDvvIEnLCAxMDAwLCAn5byAJyk7XFxcIj7kv50g5a2YPC9idXR0b24+IFxcbiAgICAgICAgPC9hPlxcbiAgICA8L2Rpdj5cXG4gICAgPGJyPlxcbiAgICA8ZGl2IGlkPVxcXCJkaXYyXFxcIj48L2Rpdj5cXG4gICAgPGRpdj5cXG4gICAgICAgIDxhIHN0eWxlPVxcXCJmbG9hdDpsZWZ0O21hcmdpbi10b3A6NXB4O1xcXCIgb25jbGljaz1cXFwib3BlbkRuUGFnZSgpXFxcIj5cXG4gICAgICAgICAgICA8aW1nIHNyYz1cXFwiaHR0cHM6Ly9zMy5heDF4LmNvbS8yMDIxLzAyLzIyL3k3d2I5Ty5qcGdcXFwiIGNsYXNzPVxcXCJyb3VuZF9pY29uXFxcIiAgYWx0PVxcXCJcXFwiPlxcbiAgICAgICAgPC9hPlxcbiAgICAgICAgPHNwYW4gc3R5bGU9XFxcImxpbmUtaGVpZ2h0OjYwcHg7Zm9udC1zaXplOjE4cHg7Y29sb3I6IGdyZXk7XFxcIj4mbmJzcDsmbmJzcDvmlq0mbmJzcDvlv7U8L3NwYW4+XFxuICAgICAgICA8YSBzdHlsZT1cXFwiZmxvYXQ6cmlnaHQ7bWFyZ2luLXRvcDo1cHg7XFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uICBzdHlsZT1cXFwiYm9yZGVyOiBub25lO2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOiAjMDVCRkM1O3dpZHRoOiAxODVweDtoZWlnaHQ6NDBweDsgZm9udC1zaXplOiAxOHB4O2NvbG9yOiAjRjlGMERBO1xcXCIgb25jbGljaz1cXFwiY2xpY2ttZSgn6YWNIOe9riDlt7Ig5L+dIOWtmCDvvIEnLCAxMDAwLCAn5YWzJyk7XFxcIj7kv53lrZjorr7nva7lubblhbPpl63nlYzpnaI8L2J1dHRvbj5cXG4gICAgICAgIDwvYT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInpqLWRpdlxcXCI+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcImp4LXVsXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OjQ0NHB4O292ZXJmbG93LXk6YXV0bztcXFwiPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibXlDaG9pY2VcXFwiIHN0eWxlPVxcXCJ6LWluZGV4Ojk5OTk7cG9zaXRpb246IGZpeGVkO3dpZHRoOjc2LjUlO2NvbG9yOnJlZDtcXFwiPjwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJ1c2VsZXNzXFxcIj48L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwieGxMaXN0XFxcIiB2LWZvcj1cXFwiaXRlbSBpbiBqeERhdGFcXFwiPnt7aXRlbX19PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcImNqLXVsXFxcIj5cXG4gICAgICAgICAgICA8bGkgc3R5bGU9XFxcImJhY2tncm91bmQ6Z3JleTtcXFwiPuivt+mAieaLqeaPkuS7tjwvbGk+XFxuICAgICAgICAgICAgPGxpIHYtZm9yPVxcXCJpdGVtIGluIGNqRGF0YVxcXCI+e3tpdGVtfX08L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgPC9kaXY+XFxuPC9ib2R5PlxcbjxzY3JpcHQ+XFxuICAgIGV2YWwoZnlfYnJpZGdlX2FwcC5mZXRjaChcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9qcXVlcnlAMi4xLjQuanNcXFwiKSk7XFxuICAgIGV2YWwoZnlfYnJpZGdlX2FwcC5mZXRjaChcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS92dWVAMi41LjE2LmpzXFxcIikpO1xcbiAgICBldmFsKGZ5X2JyaWRnZV9hcHAuZ2V0SW50ZXJuYWxKcygpKTtcXG4gICAgXFxuICAgIHZhciBzZXR0aW5ncyA9IHtcXG4gICAgICAgIHF5OiAneXVuMTcxNycsXFxuICAgICAgICB5azogJ3l1bjE3MTcnLFxcbiAgICAgICAgdHg6ICd5dW4xNzE3JyxcXG4gICAgICAgIG1nOiAneXVuMTcxNycsXFxuICAgICAgICBibDogJ3l1bjE3MTcnLFxcbiAgICAgICAgb3RoOiAneXVuMTcxNycsXFxuICAgICAgICBxanU6ICfpu5jorqQnLFxcbiAgICAgICAgY2o6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL1BhcnNlX0RuLmpzJ1xcbiAgICB9O1xcbiAgICBcXG4gICAgdmFyIG9sZFJvdXRlID0gXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvTXlQYXJzZVNldC5qc29uXFxcIjtcXG4gICAgdmFyIG15U2V0ID0gZnlfYnJpZGdlX2FwcC5mZXRjaChvbGRSb3V0ZSk7XFxuICAgIFxcbiAgICB2YXIgbmV3Um91dGUgPSBcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9EdWFuTmlhbi9NeVBhcnNlLmpzb25cXFwiO1xcbiAgICB2YXIgbmV3Q29uZmlnID0gZnlfYnJpZGdlX2FwcC5mZXRjaChuZXdSb3V0ZSk7XFxuICAgIHZhciBteVNlbGVjdCA9IFtdO1xcbiAgICB0cnl7XFxuICAgICAgICBldmFsKFxcXCJuZXdDb25maWcgPVxcXCIgKyBuZXdDb25maWcgKyBcXFwiO1xcXCIpO1xcbiAgICAgICAgc2V0dGluZ3MgPSBuZXdDb25maWcuc2V0dGluZ3MucWp1ID09IHVuZGVmaW5lZCA/IHNldHRpbmdzIDogbmV3Q29uZmlnLnNldHRpbmdzO1xcbiAgICAgICAgdmFyIHljVGl0bGUgPSBbJ2RlZmF1bHRQYXJzZScsICdtYW9zcycsICdDaXR5SVAnLCAnY2FjaGVNM3U4JywgJ3BjVUEnLCAncGFyc2VMYycsICdncGFyc2UnLCAnbnBhcnNlJ107XFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbmV3Q29uZmlnLnRpdGxlLmxlbmd0aDsgaSsrKXtcXG4gICAgICAgICAgICB2YXIgVGl0bGVzID0gbmV3Q29uZmlnLnRpdGxlW2ldO1xcbiAgICAgICAgICAgIGlmKHljVGl0bGUuaW5jbHVkZXMoVGl0bGVzKSA9PSBmYWxzZSl7XFxuICAgICAgICAgICAgICAgIG15U2VsZWN0LnB1c2goVGl0bGVzKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH1jYXRjaChlKXt9XFxuICAgIHZhciBzZlJlZnJlc2ggPSBzZXR0aW5ncy5jajtcXG4gICAgZnVuY3Rpb24gRGlkKGlkKXtcXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XFxuICAgIH1cXG4gICAgXFxuICAgIGlmKG15U2V0ID09ICcnKXtcXG4gICAgICAgIERpZChcXFwiZGl2MlxcXCIpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJCZWdpbicsJ1xcXFxcXG48aDQ+5o+Q56S677yaPGJyPuKRoOazqOaEj+aPkuS7tumAiemhue+8jOayoeacieaJi+WKqOWvvOWFpeaPkuS7tueahOivneS4jeeUqOWKqOWug+OAguWmguiuvue9ruS4jeW9k+S8muWvvOiHtOinhOWImeaXoOazleS9v+eUqO+8jDxicj7op6PlhrPlip7ms5XvvJrlsI/nqIvluo/pppbpobXngrnlh7vmgaLlpI3pu5jorqTmj5Lku7bvvJs8YnI+4pGh5YWo5bGA6K6+572u5aaC5p6c6YCJ5oup5LqG6Z2e6buY6K6k6YKj5LmI5YWo6YOo55qE6Kej5p6Q5Lya5L2/55So6L+Z5LiA6K6+572u77yM5LiN5oOz6L+Z5qC355qE6K+d6K+35aGr5YWl6buY6K6k77ybPGJyPuKRoue7v+iJsuS/neWtmOaMiemSruS7heS7heS/neWtmOmFjee9ruS4jeS8muWFs+mXreiuvue9rumhtemdou+8jOmFjee9ruWQjuaDs+S/neWtmOW5tuWFs+mXreiuvue9rumhtemdoueahOivneivt+eCueiTneiJsuaMiemSru+8mzxicj7ikaPpmIXor7vlrozmj5DnpLrngrnlhbPpl63liqDovb3lrozmlbTorr7nva7pobXpnaLvvIzlpoLlh7rpl67popjml6Dms5Xoh6rooYzop6PlhrPngrnlm77niYfov5vlhaXorrrlnZvlkJHmiJHlj43ppojjgII8YnI+PC9oND4nKTtcXG4gICAgfVxcbiAgICBcXG4gICAgdmFyIGJveERhdGEgPSBbXFxuICAgICAgICB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLlpYcg5aWHXFxcIixcXG4gICAgICAgICAgICBpZDogXFxcInF5XFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MucXksXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLphbcg6YW3XFxcIixcXG4gICAgICAgICAgICBpZDogXFxcInlrXFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MueWssXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLohb4g6IW+XFxcIixcXG4gICAgICAgICAgICBpZDogXFxcInR4XFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MudHgsXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLmnpwg5p6cXFxcIixcXG4gICAgICAgICAgICBpZDogXFxcIm1nXFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MubWcsXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLlk6kg5ZOpXFxcIixcXG4gICAgICAgICAgICBpZDogXFxcImJsXFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MuYmwsXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLlhbYg5LuWXFxcIixcXG4gICAgICAgICAgICBpZDogXFxcIm90aFxcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLm90aCxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuWFqCDlsYBcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwicWp1XFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MucWp1LFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi5o+SIOS7tlxcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJjalxcXCIsXFxuICAgICAgICAgICAgdmFsdWU6IHNldHRpbmdzLmNqLFxcbiAgICAgICAgfVxcbiAgICBdO1xcblxcbiAgICB2YXIgaW5wdXRCb3ggPSBcXFwiXFxcIjtcXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGJveERhdGEubGVuZ3RoOyBpKyspe1xcbiAgICAgICAgbGV0IGIgPSBib3hEYXRhW2ldO1xcbiAgICAgICAgaW5wdXRCb3ggKz0gJzxkaXYgY2xhc3M9XFxcImJveCBiYXJcXFwiPlxcXFxcXG4gICAgICAgICAgICA8Zm9ybT5cXFxcXFxuICAgICAgICAgICAgICAgIDxsYWJlbCB0eXBlPVxcXCJzdWJtaXRcXFwiPicgKyBiLnRpdGxlICsgJzwvbGFiZWw+XFxcXFxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIui+k+WFpeino+aekOWQjeaIluiAhVVSTC4uLi4uLlxcXCIgdmFsdWU9XFxcIicgKyBiLnZhbHVlICsgJ1xcXCIgaWQ9XFxcIicgKyBiLmlkICsgJ1xcXCI+XFxcXFxcbiAgICAgICAgICAgIDwvZm9ybT5cXFxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibGllYlxcXCI+XFxcXFxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCInICsgYi5pZCArICdTZWxlY3RcXFwiPuKYsDwvYnV0dG9uPlxcXFxcXG4gICAgICAgICAgICA8L2Rpdj5cXFxcXFxuICAgICAgICA8L2Rpdj4nO1xcbiAgICB9XFxuICAgIERpZChcXFwiZGl2MlxcXCIpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBpbnB1dEJveCk7XFxuICAgIERpZChcXFwiY2pcXFwiKS5wbGFjZWhvbGRlciA9IFxcXCLovpPlhaXmj5Lku7blnLDlnYAuLi4uLi5cXFwiO1xcbiAgICBEaWQoXFxcInFqdVxcXCIpLnBsYWNlaG9sZGVyID0gXFxcIuatpOmhueW7uuiurueVmeepuuaIluiAheWhq+m7mOiupOS4pOS4quWtl1xcXCI7XFxuICAgIFxcbiAgICBuZXcgVnVlKHtcXG4gICAgICAgIGVsOiBcXFwiLnpqLWRpdlxcXCIsXFxuICAgICAgICBkYXRhOiB7XFxuICAgICAgICAgICAganhEYXRhOiBteVNlbGVjdCxcXG4gICAgICAgICAgICBjakRhdGE6IFtcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9QYXJzZV9Ebi5qc1xcXCIsIFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvanMvc3JjYXV0by5qc1xcXCIsIFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2pzL1BhcnNlLVYyX0RuLmpzXFxcIl1cXG4gICAgICAgIH1cXG4gICAgfSk7XFxuXFxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xcbiAgICAgICAgdmFyIGxlbiA9ICQoJy5qeC11bCcpLmNoaWxkcmVuKCdsaScpLmxlbmd0aDtcXG4gICAgICAgIHZhciBsZW4yID0gJCgnLmNqLXVsJykuY2hpbGRyZW4oJ2xpJykubGVuZ3RoO1xcbiAgICAgICAgJCgnLmxpZWIgYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oZSkge1xcbiAgICAgICAgICAgIGlmKCQoJy5saWViIGJ1dHRvbicpLnRleHQoKS5pbmNsdWRlcygn4pSBJykpe1xcbiAgICAgICAgICAgICAgICAkKCcubGllYiBidXR0b24nKS5jc3MoJ2JhY2tncm91bmQnLCAnJyk7XFxuICAgICAgICAgICAgICAgICQoJy5saWViIGJ1dHRvbicpLnRleHQoJ+KYsCcpO1xcbiAgICAgICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJ+KUgScpO1xcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygnYmFja2dyb3VuZCcsICdyZWQnKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgJCgnbGknKS5hdHRyKCdjaGVjaycsICdmYWxzZScpO1xcbiAgICAgICAgICAgIHZhciBpbnB1dGlkID0gXFxcIiNcXFwiICsgdGhpcy5pZC5zcGxpdChcXFwiU2VsZWN0XFxcIilbMF07XFxuICAgICAgICAgICAgdmFyIGFyciA9ICQoaW5wdXRpZCkudmFsKCkuc3BsaXQoJywnKTtcXG4gICAgICAgICAgICBhcnIgPSBhcnJbMF0gPT0gJycgPyBbXSA6IGFycjtcXG4gICAgICAgICAgICAkKCcubXlDaG9pY2UnKS50ZXh0KGFycik7XFxuICAgICAgICAgICAgaWYgKGlucHV0aWQgIT09ICcjY2onICYmICQoJy5jai11bCcpLmNzcygnZGlzcGxheScpPT0nbm9uZScpIHtcXG4gICAgICAgICAgICAgICAgJCgnLmp4LXVsJykuc2xpZGVUb2dnbGUoMzAwKTtcXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW47IGkrKykge1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGp4TGlzdCA9ICQoJy5qeC11bCBsaTpub3QoLm15Q2hvaWNlKScpLmVxKGkpO1xcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyci5pbmNsdWRlcyhqeExpc3QudGV4dCgpKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGp4TGlzdC5hdHRyKCdjaGVjaycsICd0cnVlJyk7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICBqeExpc3QudW5iaW5kKCdjbGljaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2NoZWNrJykgIT09IFxcXCJ0cnVlXFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2NoZWNrJywgJ3RydWUnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnVuc2hpZnQoJCh0aGlzKS50ZXh0KCkpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbChhcnIpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubXlDaG9pY2UnKS50ZXh0KGFycik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdjaGVjaycsICdmYWxzZScpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IGFyci5sZW5ndGg7IGErKykge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyclthXSA9PSAkKHRoaXMpLnRleHQoKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoYSwgMSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dGlkKS52YWwoYXJyKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubXlDaG9pY2UnKS50ZXh0KGFycik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSBlbHNlIGlmKCQoJy5qeC11bCcpLmNzcygnZGlzcGxheScpPT0nbm9uZScpe1xcbiAgICAgICAgICAgICAgICAkKCcuY2otdWwnKS5zbGlkZVRvZ2dsZSgyMDApO1xcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjI7IGkrKykge1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNqTGlzdCA9ICQoJy5jai11bCBsaScpLmVxKGkpO1xcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoaW5wdXRpZCkudmFsKCkgPT0gY2pMaXN0LnRleHQoKSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGNqTGlzdC5hdHRyKCdjaGVjaycsICd0cnVlJyk7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICBjakxpc3QudW5iaW5kKCdjbGljaycpLmNsaWNrKGZ1bmN0aW9uKCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXRpZCkudmFsKCQodGhpcykudGV4dCgpKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdjaGVjaycsICd0cnVlJyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoKS5hdHRyKCdjaGVjaycsICdmYWxzZScpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KTtcXG4gICAgICAgICQoZG9jdW1lbnQpLm5vdCgkKCcueGxMaXN0JykpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcXG4gICAgICAgICAgICAkKCcuangtdWwnKS5zbGlkZVVwKCk7XFxuICAgICAgICAgICAgJCgnLmNqLXVsJykuc2xpZGVVcCgpO1xcbiAgICAgICAgICAgICQoJy5saWViIGJ1dHRvbicpLnRleHQoJ+KYsCcpO1xcbiAgICAgICAgICAgICQoJy5saWViIGJ1dHRvbicpLmNzcygnYmFja2dyb3VuZCcsICcnKTtcXG4gICAgICAgIH0pO1xcbiAgICAgICAgJChmdW5jdGlvbigpe1xcbiAgICAgICAgICAgICQoJ2xhYmVsJykubW91c2V1cChmdW5jdGlvbigpe1xcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRpZCA9ICcjJyArICQodGhpcykubmV4dCgpLmF0dHIoJ2lkJyk7XFxuICAgICAgICAgICAgICAgIG9uZU9yRGJsKGlucHV0aWQpO1xcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XFxuICAgICAgICAgICAgdmFyIHRpbWVyO1xcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uZU9yRGJsKGlucHV0aWQpe1xcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xcbiAgICAgICAgICAgICAgICB0aW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XFxuICAgICAgICAgICAgICAgICAgICBpZihjb3VudCA9PSAxKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gJChpbnB1dGlkKS52YWwoKS5zcGxpdCgnLCcpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoMCwgMSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dGlkKS52YWwoYXJyKTtcXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXRpZCkudmFsKCcnKTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZXIpO1xcbiAgICAgICAgICAgICAgICAgICAgY291bnQgPSAwO1xcbiAgICAgICAgICAgICAgICB9LDI2MClcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KVxcbiAgICB9KTtcXG4gICAgXFxuICAgIGZ1bmN0aW9uIFRvYXN0KG1zZyxkdXJhdGlvbil7ICBcXG4gICAgICAgIGR1cmF0aW9uPWlzTmFOKGR1cmF0aW9uKT8yMDAwOmR1cmF0aW9uOyAgXFxuICAgICAgICB2YXIgbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAgXFxuICAgICAgICBtLmlubmVySFRNTCA9IG1zZzsgIFxcbiAgICAgICAgbS5zdHlsZS5jc3NUZXh0PVxcXCJ3aWR0aDo0NSU7IG1pbi13aWR0aDoxNTBweDsgYmFja2dyb3VuZDojMzExOyBvcGFjaXR5OjAuNjsgaGVpZ2h0OmF1dG87bWluLWhlaWdodDogNDVweDsgY29sb3I6I2ZmZjsgbGluZS1oZWlnaHQ6NDVweDsgdGV4dC1hbGlnbjpjZW50ZXI7IGJvcmRlci1yYWRpdXM6MTBweDsgcG9zaXRpb246Zml4ZWQ7IHRvcDo2MCU7IGxlZnQ6MjYlOyB6LWluZGV4Ojk5OTk5OTtcXFwiOyAgXFxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0pOyAgXFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAgXFxuICAgICAgICAgICAgdmFyIGQgPSAwLjU7ICBcXG4gICAgICAgICAgICBtLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSAnLXdlYmtpdC10cmFuc2Zvcm0gJyArIGQgKyAncyBlYXNlLWluLCBvcGFjaXR5ICcgKyBkICsgJ3MgZWFzZS1pbic7ICBcXG4gICAgICAgICAgICBtLnN0eWxlLm9wYWNpdHkgPSAnMCc7ICBcXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG0pIH0sIGQgKiAxMDAwKTsgIFxcbiAgICAgICAgfSwgZHVyYXRpb24pOyAgXFxuICAgIH0gIFxcblxcbiAgICBmdW5jdGlvbiBvcGVuRG5QYWdlKCl7XFxuICAgICAgICBmYmEub3BlbihKU09OLnN0cmluZ2lmeSh7XFxuICAgICAgICAgICAgcnVsZTogXFxcIj1eX149XFxcIixcXG4gICAgICAgICAgICB0aXRsZTogXFxcIueuoeeQhuino+aekFxcXCIsXFxuICAgICAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjXFxcIixcXG4gICAgICAgICAgICBmaW5kUnVsZTogXFxcImpzOnRoaXMuZD1bXTtldmFsKGZldGNoKCdoaWtlcjovL2ZpbGVzL2NhY2hlL2ZpbGVMaW5rc+G0sOKBvy50eHQnKSk7cmVxdWlyZShmTGlua3MuanhJdFVybCk7anhJdGVtLmp4TGlzdCgpO3NldFJlc3VsdChkKVxcXCJcXG4gICAgICAgIH0pKTtcXG4gICAgfVxcbiAgICBmdW5jdGlvbiBjYW5jZWwoKXtcXG4gICAgICAgIGlmKG15U2V0PT0nJyl7XFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC53cml0ZUZpbGUob2xkUm91dGUsIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzLCBudWxsLCA0KSk7XFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5yZWZyZXNoUGFnZSh0cnVlKTtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAuYmFjayhmYWxzZSk7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgZnVuY3Rpb24gY2xpY2ttZShtc2csZHVyYXRpb24sdGl0bGUpe1xcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGJveERhdGEubGVuZ3RoOyBpKyspe1xcbiAgICAgICAgICAgIGxldCBpZCA9IGJveERhdGFbaV0uaWQ7XFxuICAgICAgICAgICAgc2V0dGluZ3NbaWRdID0gRGlkKGlkKS52YWx1ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIGlmKHNldHRpbmdzLnFqdSA9PSAnJyl7XFxuICAgICAgICAgICAgc2V0dGluZ3MucWp1ID0gJ+m7mOiupCc7XFxuICAgICAgICB9XFxuICAgICAgICB0cnl7XFxuICAgICAgICAgICAgZXZhbCgndmFyIGJjQ29uZmlnPScgKyBmeV9icmlkZ2VfYXBwLmZldGNoKG5ld1JvdXRlKSk7XFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihiY0NvbmZpZy5zZXR0aW5ncywgc2V0dGluZ3MpO1xcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAud3JpdGVGaWxlKG5ld1JvdXRlLCAkJCQuc3RyaW5naWZ5KGJjQ29uZmlnKSk7XFxuICAgICAgICB9Y2F0Y2goZSl7fVxcbiAgICAgICAgZnlfYnJpZGdlX2FwcC53cml0ZUZpbGUob2xkUm91dGUsICQkJC5zdHJpbmdpZnkoc2V0dGluZ3MpKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgIFRvYXN0KG1zZyxkdXJhdGlvbik7XFxuICAgICAgICBpZih0aXRsZT09XFxcIuWFs1xcXCIpe1xcbiAgICAgICAgICAgIGlmKHNmUmVmcmVzaCAhPSBEaWQoXFxcImNqXFxcIikudmFsdWUpe1xcbiAgICAgICAgICAgICAgICBmeV9icmlkZ2VfYXBwLmJhY2soKTtcXG4gICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5iYWNrKGZhbHNlKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICBmeV9icmlkZ2VfYXBwLnJlZnJlc2hQYWdlKHRydWUpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuPC9zY3JpcHQ+ICAgXFxuPC9odG1sPlwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwiUGFyc2VfRG4uanNcIixcInBhdGhcIjpcIlBhcnNlX0RuLmpzXCIsXCJydWxlXCI6XCIvLz09PT09PT09PT09PeWFjeWXheiwg+eUqD09PT09PT09PT09PVxcbi8v77yN77yN77yNPV5fXj1cXG4vL0Dmlq3lv7VcXG5cXG52YXIgcGFyc2VSb3V0ZSA9ICdoaWtlcjovL2ZpbGVzL3J1bGVzL0R1YW5OaWFuL015UGFyc2UuanNvbic7XFxudmFyIE15UGFyc2VTID0ge307XFxudmFyIG15U2V0ID0ge307XFxuaWYgKGZpbGVFeGlzdChwYXJzZVJvdXRlKSkge1xcbiAgICBldmFsKCd2YXIgcGFyc2VGaWxlID0nICsgZmV0Y2gocGFyc2VSb3V0ZSkpO1xcbiAgICBNeVBhcnNlUyA9IHBhcnNlRmlsZS5jb2RlcztcXG4gICAgbXlTZXQgPSBwYXJzZUZpbGUuc2V0dGluZ3M7XFxufVxcbnZhciBwYXJzZVRpdGxlID0gW1xcbiAgICBcXFwi8J+lmlxcXCIsXFxuICAgIFxcXCJ5dW4xNzE3XFxcIixcXG4gICAgXFxcIlBhbkd1XFxcIixcXG4gICAgXFxcIkZ1WGluZ1xcXCIsXFxuICAgIFxcXCJodHRwczovL2p4eC5zbXlzOC5jbi9pbmRleC5waHA/dXJsPVxcXCIsXFxuICAgIFxcXCJodHRwczovL29ranguY2MvP3VybD1cXFwiLFxcbiAgICBcXFwiaHR0cHM6Ly9qeC5tM3U4LnR2L2ppZXhpLz91cmw9XFxcIixcXG4gICAgXFxcImh0dHBzOi8vc2IuNWdzZW8ubmV0Lz91cmw9XFxcIlxcbl07XFxuXFxuLy/vvI3vvI3vvI09Xl9ePVxcblxcbi8v5o6l5Y+j6K6+572uLlxcblxcbnZhciBzZXRVcmwgPSBcXFwiaGlrZXI6Ly9lbXB0eSNub1JlY29yZEhpc3RvcnkjQHJ1bGU9anM6dGhpcy5kPVtdO3JlcXVpcmUoJ2h0dHBzOi8vZ2hwcm94eS5jYy9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvUm91dGUuanMnKTtSb3V0ZS5zZXRQYXJzZSgpO3NldFJlc3VsdChkKTtcXFwiO1xcbnZhciBzZXRfc3dpdGNoID0gc2V0VXJsO1xcbnZhciBsYXp5ID0gYHJlcXVpcmUoJ2h0dHBzOi8vZ2hwcm94eS5jYy9odHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbHMxMjU3ODEwMDMvZGNiZi9tL3YvUm91dGUuanMnKTtheXRtUGFyc2UoaW5wdXQpYDtcXG5cXG4vL3ZhciBwYXJ3aXggPSBgdmFyIHl1cmw9J2h0dHBzOi8vZGFpbGkubWF5aXhpb25nZGkuY24vP3VybD0nO1JlZmVyZXInOiAnaHR0cHM6Ly93d3cubWF5aXhpb25nZGkuY24veXM/aWQ9JzsnaHR0cHM6Ly9kYWlsaS5tYXlpeGlvbmdkaS5jbi9hcGkucGhwJywgJ1JlZmVyZXInOidodHRwczovL2RhaWxpLm1heWl4aW9uZ2RpLmNuJztcXG4vLyDlhajmsJFodHRwczovL3BjdmlkZW9hbGl5dW4udGlhbnNoYW5ncmVuamlhbi5tZ3R2LmNvbS44OHd1bWEuY29tLz91cmw9XFxuXFxuLy/vvI3vvI3vvI3lpIcg55So77yN77yN77yNXFxuLypcXG4gKiDlvbHop4blt6XlnLrvvJogaHR0cHM6Ly95c2djLmNjL1xcbiAqIOaxn+a5ljogNTU155S15b2xIGh0dHBzOi8vd3d3LjU1NWR5Mi5jb20vcGhvbmUuaHRtbCDvvZwgMTfnnIsgaHR0cDovLzE3a2FueXkuY24vIGh0dHA6Ly9qaGppZXhpLjMwdnIuY24vP3VybD0g772cIGh0dHA6Ly9hcGkubWFpemltYWxsLmNvbS9pbmRleC5waHA/dXJsPVxcbiAqIOaxn+a5ljogaHR0cDovL3d3dy50aWFuc2h1eXVuLm5ldC9pbmRleC5waHAvdm9kL3BsYXkvaWQvNDQ4Mzc3L3NpZC8xL25pZC8xLmh0bWxcXG4gKiDmsZ/muZYyOiBodHRwOi8vOThoeWsuY24vaW5kZXgucGhwL3ZvZC9wbGF5L2lkLzcyODQxL3NpZC8xL25pZC8xLmh0bWxcXG4gKiDkurrkurrov7c6IGh0dHBzOi8vdmlwLnN1c291LnR2L3BsYXllci8/dXJsPSDvvZwgaHR0cHM6Ly93d3cubW9tZG0uY2MvXFxuICogXFxuICogd3VpZ2VuOiBodHRwczovL3d3dy41aWdlbi5jb20vZG1wbGF5ZXIvcGxheWVyLz91cmw9XFxuICog5bmy6aWtKOS6uuS6uui/tyk6IGh0dHBzOi8vanguenVpLmNtLz91cmw9XFxuICogaHR0cHM6Ly8yLjY2bW92aWUudG9wL3BsYXllci8/dXJsPVxcbiAqIFxcbiAqL1xcblxcblxcbnZhciB0b29scyA9IHtcXG4gICAgTUQ1OiBmdW5jdGlvbihkYXRhKSB7XFxuICAgICAgICBldmFsKGdldENyeXB0b0pTKCkpO1xcbiAgICAgICAgcmV0dXJuIENyeXB0b0pTLk1ENShkYXRhKS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTtcXG4gICAgfSxcXG4gICAgQUVTOiBmdW5jdGlvbih0ZXh0LCBrZXksIGl2LCBpc0VuY3J5cHQpIHtcXG4gICAgICAgIGV2YWwoZ2V0Q3J5cHRvSlMoKSk7XFxuICAgICAgICB2YXIga2V5ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2Uoa2V5KTtcXG4gICAgICAgIHZhciBpdiA9IENyeXB0b0pTLmVuYy5VdGY4LnBhcnNlKGl2KTtcXG4gICAgICAgIGlmIChpc0VuY3J5cHQpIHtcXG4gICAgICAgICAgICByZXR1cm4gQ3J5cHRvSlMuQUVTLmVuY3J5cHQodGV4dCwga2V5LCB7XFxuICAgICAgICAgICAgICAgIGl2OiBpdixcXG4gICAgICAgICAgICAgICAgbW9kZTogQ3J5cHRvSlMubW9kZS5DQkMsXFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IENyeXB0b0pTLnBhZC5Qa2NzN1xcbiAgICAgICAgICAgIH0pLnRvU3RyaW5nKCk7XFxuICAgICAgICB9O1xcbiAgICAgICAgcmV0dXJuIENyeXB0b0pTLkFFUy5kZWNyeXB0KHRleHQsIGtleSwge1xcbiAgICAgICAgICAgIGl2OiBpdixcXG4gICAgICAgICAgICBwYWRkaW5nOiBDcnlwdG9KUy5wYWQuUGtjczdcXG4gICAgICAgIH0pLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTtcXG4gICAgfSxcXG4gICAgLy9hc2NpaVxcbiAgICBuZXh0Q2hhcmFjdGVyOiBmdW5jdGlvbihhc2NpaVZhbHVlLCBrKSB7XFxuICAgICAgICB2YXIgcyA9IGFzY2lpVmFsdWU7XFxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShzICsgayk7XFxuICAgIH0sXFxuICAgIC8v5Yev5pKSXFxuICAgIGNhZXNhckNpcGhlcjogZnVuY3Rpb24oc3RyaW5nVmFsdWUsIGspIHtcXG4gICAgICAgIHZhciBuZXdTdHJpbmcgPSBcXFwiXFxcIjtcXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nVmFsdWUubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICBuZXdTdHJpbmcgKz0gdGhpcy5uZXh0Q2hhcmFjdGVyKHN0cmluZ1ZhbHVlW2ldLmNoYXJDb2RlQXQoKSwgayk7XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nO1xcbiAgICB9LFxcbiAgICBoYW5kbGVVcmw6IGZ1bmN0aW9uKHVybCwgdmlwVXJsLCBuYW1lKSB7XFxuICAgICAgICBpZih1cmwgPT0gXFxcIlxcXCIgfHwgdXJsID09IHZpcFVybCkge1xcbiAgICAgICAgICAgIGxvZyhuYW1lICsgXFxcIuino+aekOWksei0pVxcXCIpO1xcbiAgICAgICAgICAgIHJldHVybiB2aXBVcmw7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAodXJsWzBdID09ICcvJykge1xcbiAgICAgICAgICAgIHVybCA9ICdodHRwczonICsgdXJsO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCc9aHR0cCcpICE9IC0xKSB7XFxuICAgICAgICAgICAgdXJsID0gdXJsLmluZGV4T2YoJyZ1cmw9JykgPiAtMSA/IHVybCA6ICdodHRwJyArIGRlY29kZVVSSUNvbXBvbmVudCh1cmwuc3BsaXQoJz1odHRwJylbMV0pO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKHZpcFVybC5pbmRleE9mKCdtZ3R2LmNvbScpICE9IC0xICYmIHVybC5pbmRleE9mKCdVc2VyLUFnZW50JykgPT0gLTEpIHtcXG4gICAgICAgICAgICB1cmwgPSB1cmwgKyAnO3tVc2VyLUFnZW50QGFwcH0nO1xcbiAgICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZignLmZsdicpICE9IC0xKSB7XFxuICAgICAgICAgICAgdXJsID0gdXJsICsgJzt7VXNlci1BZ2VudEBhcHAmJlJlZmVyZXJAJyArIHZpcFVybCArICd9JztcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiB1cmwgKyAnI2lzVmlkZW89dHJ1ZSMnO1xcbiAgICB9XFxufTtcXG5cXG52YXIgUGFyc2VTID0ge307XFxudmFyIG9yaWdpbmFsUGFyc2VTID0ge1xcbiAgICBDaXR5SVA6ICdodHRwOi8vcHYuc29odS5jb20vY2l0eWpzb24nLFxcbiAgICBwY1VBOiAnVXNlci1BZ2VudEBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wXFxcXO+8m1xcXFzvvJsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS80OS4wLjI2MjMuODcgU2FmYXJpLzUzNy4zNicsXFxuICAgIGRlZmF1bHRQYXJzZTogZnVuY3Rpb24odXJsKSB7XFxuICAgICAgICBzaG93TG9hZGluZyhcXFwi5q2j5Zyo6LCD55So572R6aG16Kej5p6QLi4uXFxcIik7XFxuICAgICAgICByZXR1cm4gJCh1cmwpLndlYkxhenkoKCkgPT4ge1xcbiAgICAgICAgICAgIHZhciBVcmxzID0gX2dldFVybHMoKTtcXG4gICAgICAgICAgICB2YXIgUmVnMSA9IC9cXFxcLm1wNHxcXFxcLm0zdThcXFxcP3wubTN1OCR8XFxcXC5mbHZ8XFxcXC5hdml8XFxcXC5ybXZiLztcXG4gICAgICAgICAgICB2YXIgUmVnMiA9IC9wbGF5bTN1OHwuY3NzJHwuanMkfC5pY28kfGNuenpcXFxcLi87XFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBVcmxzLmxlbmd0aDsgaSsrKSB7XFxuICAgICAgICAgICAgICAgIGxldCBpc1VybCA9IFVybHNbaV07XFxuICAgICAgICAgICAgICAgIGlmIChSZWcxLnRlc3QoaXNVcmwpICYmICFSZWcyLnRlc3QoaXNVcmwpKSB7XFxuICAgICAgICAgICAgICAgICAgICBmYmEuaGlkZUxvYWRpbmcoKTtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1VybCArIFxcXCIjaXNWaWRlbz10cnVlI1xcXCI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KTtcXG4gICAgfSxcXG4gICAgbWFvc3M6IGZ1bmN0aW9uKGp4dXJsLCByZWYsIGtleSkge1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB2YXIgZ2V0VmlkZW9JbmZvID0gZnVuY3Rpb24odGV4dCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHMuQUVTKHRleHQsIGtleSwgaXYpO1xcbiAgICAgICAgICAgIH07XFxuICAgICAgICAgICAga2V5ID0ga2V5ID09IHVuZGVmaW5lZCA/ICdkdnlZUlFsblBSQ01kUVNlJyA6IGtleTtcXG4gICAgICAgICAgICBpZiAocmVmKSB7XFxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gcmVxdWVzdChqeHVybCwge1xcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWZlcmVyJzogcmVmXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gcmVxdWVzdChqeHVybCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmIChodG1sLmluZGV4T2YoJyZidHdhZj0nKSAhPSAtMSkge1xcbiAgICAgICAgICAgICAgICBodG1sID0gcmVxdWVzdChqeHVybCArICcmYnR3YWYnICsgaHRtbC5tYXRjaCgvJmJ0d2FmKC4qPylcXFwiLylbMV0sIHtcXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAnUmVmZXJlcic6IHJlZlxcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB2YXIgaXYgPSBodG1sLnNwbGl0KCdfdG9rZW4gPSBcXFwiJylbMV0uc3BsaXQoJ1xcXCInKVswXTtcXG4gICAgICAgICAgICBldmFsKGh0bWwubWF0Y2goL3ZhciBjb25maWcgPSB7W1xcXFxzXFxcXFNdKj99LylbMF0gKyAnJyk7XFxuICAgICAgICAgICAgaWYgKGNvbmZpZy51cmwuc2xpY2UoMCwgNCkgIT0gJ2h0dHAnKSB7XFxuICAgICAgICAgICAgICAgIGNvbmZpZy51cmwgPSBkZWNvZGVVUklDb21wb25lbnQodG9vbHMuQUVTKGNvbmZpZy51cmwsIGtleSwgaXYpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZy51cmw7XFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICAgICAgcmV0dXJuICcnO1xcbiAgICAgICAgfVxcbiAgICB9LFxcbiAgICBMTFE6IGZ1bmN0aW9uKGp4dXJsKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHZhciBhcGkgPSBqeHVybC5zcGxpdCgnP3VybD0nKVswXSArIFxcXCJhcGkucGhwXFxcIjtcXG4gICAgICAgICAgICB2YXIgYjY0aWQgPSBiYXNlNjRFbmNvZGUoanh1cmwuc3BsaXQoJ3VybD0nKVsxXSk7XFxuICAgICAgICAgICAgdmFyIHBhcnNlaWQgPSB0b29scy5jYWVzYXJDaXBoZXIoYjY0aWQsIC0xKTtcXG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVxdWVzdChhcGksIHtcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiBqeHVybFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcXG4gICAgICAgICAgICAgICAgYm9keTogJ3VybD0nICsgcGFyc2VpZFxcbiAgICAgICAgICAgIH0pKTtcXG4gICAgICAgICAgICB1cmwgPSAoanNvbi5jb2RlID09IDIwMCA/IGJhc2U2NERlY29kZSh0b29scy5jYWVzYXJDaXBoZXIoanNvbi51cmwsIC0xKSkgOiAnJyk7XFxuICAgICAgICAgICAgcmV0dXJuIHVybDtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gJyc7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIFBhbkd1OiBmdW5jdGlvbih2aXBVcmwsIGRhdGEpIHtcXG4gICAgICAgIC8qdmFyIHJlZiA9ICdodHRwczovL3d3dy5wYW5ndWppZXhpLmNvbS8nO1xcbiAgICAgICAgdmFyIHBhcnNlID0gJ2h0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9qaWV4aS8/dXJsPScgKyB2aXBVcmw7XFxuICAgICAgICB2YXIgYXBpID0gJ2h0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9qaWV4aS9hcGkucGhwJztcXG4gICAgICAgICovXFxuICAgICAgICAvL3ZhciByZWYgPSAnaHR0cHM6Ly94bXlzdHYuY29tLyc7XFxuICAgICAgICAvL3ZhciBwYXJzZSA9ICdodHRwczovL3d3dy45OWtwdy5jb20vcGFuZ3UvaW5kZXgucGhwP3VybD0nICsgdGFpbFVybDtcXG4gICAgICAgIC8vdmFyIGFwaSA9ICdodHRwczovL3d3dy45OWtwdy5jb20vcGFuZ3UvYXBpLnBocCc7XFxuICAgICAgICB2YXIgcGFyc2UgPSBcXFwiaHR0cHM6Ly93d3cucGFuZ3VqaWV4aS5jb20vcGFuZ3UvP3VybD1cXFwiICsgdmlwVXJsO1xcbiAgICAgICAgdmFyIGFwaSA9IFxcXCJodHRwczovL3Bhbmd1YXBpLm50cnlqZC5uZXQvcGFuZ3UyMDIxL2FwaS5waHBcXFwiO1xcbiAgICAgICAgaWYgKGRhdGEpIHtcXG4gICAgICAgICAgICByZWYgPSBkYXRhWzBdO1xcbiAgICAgICAgICAgIHBhcnNlID0gZGF0YVsxXTtcXG4gICAgICAgICAgICBhcGkgPSBkYXRhWzJdO1xcbiAgICAgICAgfVxcbiAgICAgICAgdmFyIFRpbWUgPSAoTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApICogMSkudG9TdHJpbmcoKTtcXG4gICAgICAgIHZhciBqc29uID0gcmVxdWVzdChhcGksIHtcXG4gICAgICAgICAgICBoZWFkZXJzOiB7XFxuICAgICAgICAgICAgICAgIFxcXCJSZWZlcmVyXFxcIjogcGFyc2VcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGJvZHk6IFxcXCJ1cmw9XFxcIiArIHZpcFVybCArIFxcXCImcmVmZXJlcj1cXFwiICsgYmFzZTY0RW5jb2RlKHBhcnNlKSArIFxcXCImcmVmPTEmdGltZT1cXFwiICsgVGltZSArIFxcXCImdHlwZT0mb3RoZXI9XFxcIiArIGJhc2U2NEVuY29kZSh2aXBVcmwpICsgXFxcIiZpb3M9MFxcXCIsXFxuICAgICAgICAgICAgbWV0aG9kOiBcXFwiUE9TVFxcXCJcXG4gICAgICAgIH0pO1xcbiAgICAgICAgdmFyIHVybCA9IGpzb25bMF0gPT0gXFxcIntcXFwiID8gSlNPTi5wYXJzZShqc29uKS51cmwgOiBcXFwiXFxcIjtcXG4gICAgICAgIHJldHVybiB1cmw7XFxuICAgIH0sXFxuICAgIHl1bjE3MTc6IGZ1bmN0aW9uKHZpcFVybCkge1xcbiAgICAgICAgdmFyIGlzeWsgPSB2aXBVcmwuaW5kZXhPZigneW91a3UnKTtcXG4gICAgICAgIHZhciByZWYgPSBcXFwiaHR0cHM6Ly93d3cuMTcxN3l1bi5jb20vangvdHkucGhwP3VybD1cXFwiICsgdmlwVXJsO1xcbiAgICAgICAgdmFyIHBhcnNlID0gXFxcImh0dHBzOi8vMTcxN3l1bi5jb20uemgxODgubmV0LzA4MjgvP3VybD1cXFwiICsgdmlwVXJsO1xcbiAgICAgICAgdmFyIGFwaSA9IFxcXCJodHRwczovLzE3MTd5dW4uY29tLnpoMTg4Lm5ldC8xMDA0Ly4uaW5kZXguLnBocFxcXCI7XFxuICAgICAgICByZXR1cm4gaXN5ayA9PSAtMSA/IHRoaXMuUGFuR3UodmlwVXJsLCBbcmVmLCBwYXJzZSwgYXBpXSkgOiB0aGlzLlBhbkd1KHZpcFVybCwgW3JlZiArICcsdmlwOicsIHBhcnNlICsgJyx2aXA6JywgYXBpXSk7XFxuICAgIH0sXFxuICAgIEZ1WGluZzogZnVuY3Rpb24odmlwVXJsKSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIC8vaWYodmlwVXJsLmluZGV4T2YoJ3YueW91a3UnKSE9LTEpe1xcbiAgICAgICAgICAgIC8vICAgIHZpcFVybCA9IChKU09OLnBhcnNlKHJlcXVlc3QodmlwVXJsLCB7cmVkaXJlY3Q6ZmFsc2UsIHdpdGhIZWFkZXJzOnRydWV9KSkuaGVhZGVycy5sb2NhdGlvbiArICcnKS5yZXBsYWNlKC9cXFxcPy4qLywnJyk7XFxuICAgICAgICAgICAgLy99XFxuICAgICAgICAgICAgdmFyIHJlZiA9ICdodHRwczovL2p4Lnh1ZXR1aWd1YW5nLmNuL2ppZXhpLz91cmw9JyArIHZpcFVybDtcXG4gICAgICAgICAgICB2YXIgcGFyc2UgPSByZWY7XFxuICAgICAgICAgICAgdmFyIGFwaSA9ICdodHRwczovL2p4Lnh1ZXR1aWd1YW5nLmNuL2ppZXhpL2FwaXVfZngucGhwJztcXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5QYW5HdSh2aXBVcmwsIFtyZWYsIHBhcnNlLCBhcGldKTtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gJyc7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIFxcXCLwn6WaXFxcIjogZnVuY3Rpb24odmlwVXJsKSB7XFxuICAgICAgICBsZXQg5L2c6ICFX+inhueVjOefpeWQjeWkp+S9rDtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdmFyIHBsYXkgPSBKU09OLnBhcnNlKGZldGNoKFxcXCJodHRwOi8vd3d3LnpydWlyeS5jb20veXVuL2FwaS5waHBcXFwiLCB7XFxuICAgICAgICAgICAgICAgIGJvZHk6IFxcXCJ1cmw9XFxcIiArIGlucHV0LFxcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFxcXCJQT1NUXFxcIlxcbiAgICAgICAgICAgIH0pKS51cmw7XFxuICAgICAgICAgICAgaWYgKHBsYXkuc3RhcnRzV2l0aChcXFwiL1xcXCIpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaHR0cHM6XFxcIiArIHBsYXk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiBcXFwiXFxcIjtcXG4gICAgICAgIH1cXG4gICAgfVxcbn07XFxuXFxudmFyIGZyb21zID0gWydkdW9kdW96eScsICdyeCcsICdyZW5yZW5taScsICdsdG5iJywgJ3hmeXVuJ107XFxuZm9yKGxldCBpIGluIGZyb21zKSB7XFxuICAgIGxldCBuYW1lID0gZnJvbXNbaV0gKyBcXFwiKOmAmueUqOWHveaVsClcXFwiO1xcbiAgICBQYXJzZVNbbmFtZV0gPSBmdW5jdGlvbihVcmwsIHJlZmVyZXIpe1xcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFBhcnNlKHJlZmVyZXIpO1xcbiAgICB9O1xcbn1cXG5PYmplY3QuYXNzaWduKFBhcnNlUywgb3JpZ2luYWxQYXJzZVMsIE15UGFyc2VTKTtcXG4vL+imhueblumhuuW6j++8jOesrOS4ieS4quimhuebluesrOS6jOS4queEtuWQjuimhuebluesrOS4gOS4qlxcblxcblxcbmZ1bmN0aW9uIGF5dG1QYXJzZSh2aXBVcmwsIHBhcnNlTmFtZSkge1xcbiAgICB0aGlzLnJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbTAsIHBhcmFtMSwgcGFyYW0yKSB7XFxuICAgICAgICBwYXJhbTEgPSBwYXJhbTEgPT0gdW5kZWZpbmVkID8ge30gOiBwYXJhbTE7XFxuICAgICAgICBpZihpc05hTihwYXJhbTEudGltZW91dCkpIHtcXG4gICAgICAgICAgICBwYXJhbTEudGltZW91dCA9IDMwMDA7XFxuICAgICAgICB9XFxuICAgICAgICBwYXJhbTIgPSBNWV9SVUxFO1xcbiAgICAgICAgdmFyIHJldFN0ciA9IG1ldGhvZF9yZXF1ZXN0Lmludm9rZShqYXZhQ29udGV4dCwgcGFyYW0wLCBwYXJhbTEsIHBhcmFtMik7XFxuICAgICAgICByZXR1cm4gcmV0U3RyID09IG51bGwgPyByZXRTdHIgOiByZXRTdHIgKyBcXFwiXFxcIjtcXG4gICAgfTtcXG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uKHBhcmFtMCwgcGFyYW0xLCBwYXJhbTIpIHtcXG4gICAgICAgIHBhcmFtMSA9IHBhcmFtMSA9PSB1bmRlZmluZWQgPyB7fSA6IHBhcmFtMTtcXG4gICAgICAgIHBhcmFtMS5oZWFkZXJzID0gcGFyYW0xLmhlYWRlcnMgPT0gdW5kZWZpbmVkID8ge30gOiBwYXJhbTEuaGVhZGVycztcXG4gICAgICAgIHBhcmFtMS5oZWFkZXJzWydVc2VyLUFnZW50J10gPSBQQ19VQTtcXG4gICAgICAgIGlmKGlzTmFOKHBhcmFtMS50aW1lb3V0KSkge1xcbiAgICAgICAgICAgIHBhcmFtMS50aW1lb3V0ID0gMzAwMDtcXG4gICAgICAgIH1cXG4gICAgICAgIHBhcmFtMiA9IE1ZX1JVTEU7XFxuICAgICAgICB2YXIgcmV0U3RyID0gbWV0aG9kX2ZldGNoLmludm9rZShqYXZhQ29udGV4dCwgcGFyYW0wLCBwYXJhbTEsIHBhcmFtMik7XFxuICAgICAgICByZXR1cm4gcmV0U3RyID09IG51bGwgPyByZXRTdHIgOiByZXRTdHIgKyBcXFwiXFxcIjtcXG4gICAgfTtcXG4gICAgdmFyIGhvc3QgPSB2aXBVcmwubWF0Y2goL1xcXFwuKC4qPylcXFxcLy8pO1xcbiAgICBob3N0ID0gaG9zdCA9PSBudWxsID8gbnVsbCA6IGhvc3RbMV07XFxuICAgIHZhciBub1VybCA9IFxcXCJ0b2FzdDovL+aOpeaUtuWIsOeahOmTvuaOpeS4ujogXFxcIjtcXG4gICAgc3dpdGNoIChteVNldC5xanUpIHtcXG4gICAgICAgIGNhc2UgXFxcIum7mOiupFxcXCI6XFxuICAgICAgICAgICAgc3dpdGNoIChob3N0KSB7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcInFxLmNvbVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC50eDtcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBjYXNlIFxcXCJpcWl5aS5jb21cXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQucXk7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgY2FzZSBcXFwieW91a3UuY29tXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG15U2V0LnlrO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcIm1ndHYuY29tXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG15U2V0Lm1nO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcImJpbGliaWxpLmNvbVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC5ibDtcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gaG9zdCA9PSBudWxsID8gbm9VcmwgOiBteVNldC5vdGg7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICBkZWZhdWx0OlxcbiAgICAgICAgICAgIHN0ciA9IGhvc3QgPT0gbnVsbCA/IG5vVXJsIDogbXlTZXQucWp1O1xcbiAgICAgICAgICAgIGJyZWFrO1xcbiAgICB9XFxuICAgIGlmIChwYXJzZU5hbWUpIHtcXG4gICAgICAgIHN0ciA9IHBhcnNlTmFtZTtcXG4gICAgfVxcbiAgICBsZXQgbXlDaG9pY2UgPSBzdHIuc3BsaXQoJywnKTtcXG4gICAgbGV0IGxlbiA9IG15Q2hvaWNlLmxlbmd0aDtcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xcbiAgICAgICAgbGV0IG5hbWUgPSBteUNob2ljZVtpXTtcXG4gICAgICAgIGlmICh0eXBlb2YgUGFyc2VTW25hbWVdID09ICdmdW5jdGlvbicpIHtcXG4gICAgICAgICAgICBsZXQgdXJsID0gUGFyc2VTW25hbWVdKHZpcFVybCk7XFxuICAgICAgICAgICAgbGV0IFJlZyA9IG5ldyBSZWdFeHAoXFxcIm0zdTh8bXA0fFxcXCIgKyB2aXBVcmwgKyBcXFwifGh0dHBcXFwiKTtcXG4gICAgICAgICAgICBpZiAoaSAhPSBsZW4gLSAxICYmICFSZWcudGVzdCh1cmwpKSB7XFxuICAgICAgICAgICAgICAgIGxvZyhuYW1lICsgJ+ino+aekOWksei0pScpO1xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIHRvb2xzLmhhbmRsZVVybCh1cmwsIHZpcFVybCwgbmFtZSk7XFxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBQYXJzZVNbbmFtZV0gPT0gJ3N0cmluZycpIHtcXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTLmRlZmF1bHRQYXJzZShQYXJzZVNbbmFtZV0gKyB2aXBVcmwsIHRvb2xzLmhhbmRsZVVybCwgbmFtZSk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBuYW1lLnN1YnN0cigwLCA0KSA9PSBcXFwiaHR0cFxcXCIgfHwgaG9zdCA9PSBudWxsID8gbmFtZSArIHZpcFVybCA6IFxcXCJ0b2FzdDovL1xcXCIgKyBuYW1lICsgXFxcIiDkuI3mmK/nm7Tpk77kuZ/kuI3mmK/lhY3ll4VcXFwiO1xcbiAgICAgICAgfVxcbiAgICB9XFxufTtcXG5cXG52YXIgcGxheVBhcnNlID0ge1xcbiAgICBwbGF5ZXJTOiBmdW5jdGlvbihqdXJsKSB7XFxuICAgICAgICB2YXIgaHRtbCA9IHJlcXVlc3QoanVybCksXFxuICAgICAgICAgICAgVXJsID0gJycsXFxuICAgICAgICAgICAgZnJvbSA9ICcnO1xcbiAgICAgICAgdmFyIGNvZGUxID0gaHRtbC5tYXRjaCgvdmFyIHBsYXllcl9bXFxcXHNcXFxcU10qP3VybFtcXFxcc1xcXFxTXSo/fS8pO1xcbiAgICAgICAgdmFyIGRwVXJsID0gcGRmaChodG1sLCBcXFwiaWZyYW1lJiZkYXRhLXBsYXlcXFwiKTtcXG4gICAgICAgIGlmIChjb2RlMSAhPSBudWxsKSB7XFxuICAgICAgICAgICAgZXZhbChjb2RlMVswXS5yZXBsYWNlKC9wbGF5ZXJfLio/ey8sICdwZGF0YT17JykpO1xcbiAgICAgICAgICAgIFVybCA9IHBkYXRhLnVybDtcXG4gICAgICAgICAgICBmcm9tID0gcGRhdGEuZnJvbTtcXG4gICAgICAgIH0gZWxzZSBpZiAoZHBVcmwgIT0gJycpIHtcXG4gICAgICAgICAgICBVcmwgPSBkcFVybC5zdGFydHNXaXRoKFxcXCJodHRwXFxcIikgPyBkZHBVcmwgOiBkcFVybC5zbGljZSgzKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgY29kZTIgPSBodG1sLm1hdGNoKC92YXIgbm93W1xcXFxzXFxcXFNdKj92YXIgcG5bXFxcXHNcXFxcU10qPzsvKTtcXG4gICAgICAgICAgICBpZiAoY29kZTIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICBldmFsKGNvZGUyWzBdKTtcXG4gICAgICAgICAgICAgICAgVXJsID0gbm93O1xcbiAgICAgICAgICAgICAgICBmcm9tID0gcG47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKFVybC5zdWJzdHIoMCwgOCkubWF0Y2goL0pULi5KVC4uLykgfHwgVXJsLnN0YXJ0c1dpdGgoXFxcImFIUjBcXFwiKSkge1xcbiAgICAgICAgICAgIFVybCA9IGJhc2U2NERlY29kZShVcmwpO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKFVybC5zdWJzdHIoMCwgOCkubWF0Y2goLyUuLiUuLi8pKSB7XFxuICAgICAgICAgICAgVXJsID0gdW5lc2NhcGUoVXJsKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGlmIChmcm9tcy5pbmNsdWRlcyhmcm9tKSkge1xcbiAgICAgICAgICAgIHZhciBuYW1lID0gZnJvbSArICco6YCa55So5Ye95pWwKSc7XFxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU1tuYW1lXShVcmwsIGp1cmwpO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKC9odG1sfGJpbGliaWxpLy50ZXN0KFVybCkpIHtcXG4gICAgICAgICAgICByZXR1cm4gYXl0bVBhcnNlKFVybCk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBVcmwuc3RhcnRzV2l0aCgnaHR0cCcpID8gVXJsICsgJyNpc1ZpZGVvPXRydWUjJyA6IFBhcnNlUy5kZWZhdWx0UGFyc2UoanVybCk7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIHBsYXllcl94eDogZnVuY3Rpb24oanVybCkge1xcbiAgICAgICAgcmV0dXJuICQoanVybCkubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgIGV2YWwoZmV0Y2goSlNPTi5wYXJzZShmZXRjaCgnaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb24nKSkuY2opKTtcXG4gICAgICAgICAgICByZXR1cm4gcGxheVBhcnNlLnBsYXllclMoaW5wdXQpO1xcbiAgICAgICAgfSkgXFxuICAgIH1cXG59O1xcblxcbmZ1bmN0aW9uIHNldFBhcnNlKCkge1xcbiAgICB0aGlzLmQgPSBbXTtcXG4gICAgcmVxdWlyZSgnaHR0cHM6Ly9naHByb3h5LmNjL2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sczEyNTc4MTAwMy9kY2JmL20vdi9Sb3V0ZS5qcycpO1xcbiAgICBSb3V0ZS5zZXRQYXJzZSgpO1xcbiAgICBzZXRSZXN1bHQoZCk7XFxufVwifV0iLCJpY29uIjoiaHR0cHM6Ly9naHByb3h5LmNjL2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9sczEyNTc4MTAwMy94YnRjL21haW4vSlR5UUw0UFMucG5nIiwicHJveHkiOiJodHRwczovL2docHJveHkuY2MvaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2xzMTI1NzgxMDAzL2RjYmYvbS92L1JvdXRlLmpzPT5odHRwczovL2FnaXQuYWkvbHMxMjU3ODEwMDMvSGlrZXIvcmF3L2JyYW5jaC9tL3YvUm91dGUuanMifQ==